{% extends "layout.html" %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <title>MetaMan Admin</title>
        <meta name="generator" content="Bootply" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link href="../../static/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <!--[if lt IE 9]>
        <script src="../../static/js/html5.js"></script>
        <![endif]-->
        <link href="../../static/css/style.min.css" rel="stylesheet">
        <link href="../../static/font-awesome/css/font-awesome.min.css" rel="stylesheet">
        <link href="../../static/css/base_webapp_layout.css" media="all" rel="stylesheet" type="text/css"/>
    </head>
    <body id="data_background">
        <!-- Main -->
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-3">
                    <!-- Left column -->
                    <p><strong><i class="glyphicon glyphicon-wrench"></i> Tools</strong></p>
                    <hr>
                    <ul class="nav nav-stacked">
                        <li class="nav-header">
                            <a href="#" data-toggle="collapse" data-target="#userMenu">Settings <i class="glyphicon glyphicon-chevron-down"></i></a>
                            <ul class="nav nav-stacked collapse in" id="userMenu">
                                <li><a href="./messages"><i class="glyphicon glyphicon-envelope"></i> Messages <span class="badge badge-info"> {{ data_messages }}</span></a></li>
                                <li><a href="./settings"><i class="glyphicon glyphicon-cog"></i> Settings</a></li>
                                <li><a href="./cron"><i class="glyphicon glyphicon-tasks"></i> Cron</a></li>
                                <li><a href="./share"><i class="fa fa-share-alt"></i> Share <span class="badge badge-info"> {{ data_share }}</span></a></li>
                                <li><a href="./library"><i class="glyphicon glyphicon-film"></i> Library <span class="badge badge-info"> {{ data_library }}</span></a></li>
                                <li><a href="./books_add"><i class="glyphicon glyphicon-book"></i> Book (add) <span class="badge badge-info"></span></a></li>
                                <li><a href="./nas"><i class="glyphicon glyphicon-modal-window"></i> NAS</a></li>
                                <li><a href="./backup"><i class="glyphicon glyphicon-hdd"></i> Backup</a></li>
                                <li><a href="./users"><i class="glyphicon glyphicon-user"></i> Users <span class="badge badge-info"> {{ data_user_count }}</span></a></li>
                                <li><a href="./tvtuners"><i class="glyphicon glyphicon-facetime-video"></i> TV Tuners</a></li>
                                <li><a href="./server_stat"><i class="glyphicon glyphicon-signal"></i> Statistics</a></li>
                                <li><a href="./server_stat_slave"><i class="glyphicon glyphicon-transfer"></i> Slave Statistics</a></li>
                                <li><a href="./database"><i class="fa fa-database"></i> DB Statistics</a></li>
                                <li><a href="./ffmpeg_stat"><i class="glyphicon glyphicon-road"></i> FFMPEG Statistics</a></li>
                                <li><a href="./docker_stat"><i class="fa fa-anchor"></i> Docker Statistics</a></li>
                                {% if data_transmission_active %}
                                <li><a href="./transmission"><i class="glyphicon glyphicon-globe"></i> Transmission</a></li>
                                {% endif %}
                                {% if data_zfs_active %}
                                <li><a href="./zfs"><i class="fa fa-database"></i> ZFS</a></li>
                                {% endif %}
                                <li><a href="./link_server"><i class="glyphicon glyphicon-link"></i> Server Links</a></li>
                            </ul>
                        </li>

                        <li class="nav-header"><a href="#" data-toggle="collapse" data-target="#menu4"> Usage Views<i class="glyphicon glyphicon-chevron-right"></i></a></li>
                        <ul class="nav nav-stacked collapse" id="menu4">
                            <li><a href="{{ url_for('admins.admin_chart_browser') }}">Browser</a></li>
                            <li><a href="{{ url_for('admins.admin_chart_client_usage') }}">Client</a></li>

                            <li><a href="{{ url_for('user_reports.report_top10', mtype=1) }}">Top 10 All Time</a></li>
                            <li><a href="{{ url_for('user_reports.report_top10', mtype=2) }}">Top 10 Movie</a></li>
                            <li><a href="{{ url_for('user_reports.report_top10', mtype=3) }}">Top 10 TV Show</a></li>
                            <li><a href="{{ url_for('user_reports.report_top10', mtype=4) }}">Top 10 TV Episodes</a></li>

                        </ul>

                        <li class="nav-header"><a href="#" data-toggle="collapse" data-target="#menu3"> Cloud Setup<i class="glyphicon glyphicon-chevron-right"></i></a></li>
                        <ul class="nav nav-stacked collapse" id="menu3">
                            <li><a href="{{ url_for('admins.admin_cloud_aws_s3') }}">AWS S3</a></li>
                            <li><a href="{{ url_for('admins.admin_cloud_google_drive') }}">Google Drive</a></li>
                            <li><a href="{{ url_for('admins.admin_cloud_dropbox') }}">Dropbox</a></li>
                            <li><a href="{{ url_for('admins.admin_cloud_onedrive') }}">OneDrive</a></li>
                        </ul>

                        <li class="nav-header"><a href="#" data-toggle="collapse" data-target="#menu2"> Reports <i class="glyphicon glyphicon-chevron-right"></i></a></li>
                        <ul class="nav nav-stacked collapse" id="menu2">
                            <li><a href="{{ url_for('user_reports.report_display_all_duplicates') }}">Duplicates</a></li>
                            <li><a href="{{ url_for('user_reports.report_display_all_media') }}">Known Media</a></li>
                            <li><a href="{{ url_for('user_reports.report_display_all_media_known_video') }}">Matched Media</a></li>
                        </ul>
                    </ul>
                </div>
                <!-- /col-3 -->
                <div class="col-sm-9">
                    <!-- column 2 -->
                    <div class="row">
                        <!-- center left-->
                        <div class="col-md-6">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4>Server Info</h4>
                                </div>
                                <div class="panel-body">
                                    <p><small><b>Server Name:</b> {{ data_server_info_server_name }}</small></p>
                                    <p><small><b>Uptime:</b> {{ data_server_uptime }}</small></p>
                                    <p>
                                        <small>
                                            <b>IP Internal:</b>
                                            {% for nic_data in data_server_info_server_ip %}
                                    <p class="tab">{{ nic_data }}</p>
                                    {% endfor %}
                                    </small></p>
                                    <p><small><b>Port:</b> {{ data_server_info_server_port }}</small></p>
                                    <p><small><b>IP External:</b> {{ data_server_info_server_ip_external }}</small></p>
                                    <p><small><b>Version:</b> {{ data_server_info_server_version }}</small></p>
                                </div>
                                <!--/panel-body-->
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4>Active Streams</h4>
                                </div>
                                <div class="panel-body">
                                    {% if data_active_streams %}
                                    {% for row_data in data_active_streams %}
                                    <small>{{ row_data[0] }} - {{ row_data[1] }} </small>
                                    <div class="progress">
                                        <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow={{ row_data[2] }} aria-valuemin="0" aria-valuemax="100" style="width: 20%">
                                        <span class="sr-only">{{ row_data[2] }}% Complete</span>
                                    </div>
                                </div>
                                {% endfor %}
                                {% else %}
                                <small>No Current Streams</small>
                                {% endif %}
                            </div>
                            <!--/panel-body-->
                        </div>
                        <!--/panel-->
                        {% if data_scan_info %}
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4>Scanning Status</h4>
                            </div>
                            <div class="panel-body">
                                {% for row_data in data_scan_info %}
                                <small>{{ row_data[0] + ' - ' + row_data[1]}} </small>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow={{ row_data[2] }} aria-valuemin="0" aria-valuemax="100" style="width: {{ row_data[2] }}%">
                                    <span class="sr-only">20% Complete</span>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <!--/panel-body-->
                    </div>
                    {% endif %}
                </div>
                <!--/col-->
                <div class="col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4>Notices</h4>
                        </div>
                        <div class="panel-body">
                            {% if data_alerts_dismissable %}
                            <div class="alert alert-info">
                                {% for row_data in data_alerts_dismissable %}
                                <p><button type="button" class="close" data-dismiss="alert">×</button>
                                    {{ row_data[1] }}
                                </p>
                                {% endfor %}
                            </div>
                            {% endif %}
                            {% if data_alerts %}
                            {% for row_data in data_alerts_dismissable %}
                            <p> {{ row_data[1] }} </p>
                            {% endfor %}
                            {% endif %}
                            {% if not data_alerts_dismissable and not data_alerts %}
                            <p>No alerts.</p>
                            {% endif %}
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Media Files</th>
                                    <th>Matched Media</th>
                                    <th>Streamed Media</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td> {{ data_count_media_files }} </td>
                                    <td> {{ data_count_matched_media }} </td>
                                    <td> {{ data_count_streamed_media }} </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4>Status</h4>
                        </div>
                        <div class="panel-body">
                            <small>Media Match</small>
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
                                    <span class="sr-only">60% Complete (warning)</span>
                                </div>
                            </div>
                            <small>Backup Progress</small>
                            <div class="progress">
                                <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                                    <span class="sr-only">80% Complete</span>
                                </div>
                            </div>
                        </div>
                        <!--/panel-body-->
                    </div>
                    <!--/panel-->
                </div>
                <!--/col-span-6-->
            </div>
            <!--/row-->
        </div>
        <!--/col-span-9-->
        </div>
        </div>
        <script src="../../static/js/jquery.min.js"></script>
        <script src="../../static/bootstrap/js/bootstrap.min.js"></script>
        <script src="../../static/js/scripts.js"></script>
    </body>
</html>
{% endblock %}
