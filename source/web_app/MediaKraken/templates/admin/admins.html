{% extends "layout.html" %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <title>MediaKraken Admin</title>
        <meta name="generator" content="Bootply" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <!--[if lt IE 9]>
        <script src="/static/js/html5.js"></script>
        <![endif]-->
        <link href="/static/css/style.min.css" rel="stylesheet">
        <link href="/static/font-awesome/css/font-awesome.min.css" rel="stylesheet">
        <link href="/static/css/base_webapp_layout.css" media="all" rel="stylesheet" type="text/css"/>
    </head>
    <body id="data_background">
        <!-- Main -->
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-3 col-xs-1 p-l-0 p-r-0 collapse in" id="sidebar">
                    <div class="list-group panel">
                        <a href="{{ url_for('admins_backup.admin_backup') }}"><i class="glyphicon glyphicon-hdd"></i>Backup</a>
                        <a href="{{ url_for('admins.admin_books_add') }}"><i class="glyphicon glyphicon-book"></i> Book (add) <span class="badge badge-info"></span></a>
                        <a href="{{ url_for('admins_cron.admin_cron_display_all') }}"><i class="glyphicon glyphicon-tasks"></i>Cron</a>

                        <a href="#menu1" class="list-group-item collapsed" data-toggle="collapse" data-parent="#sidebar" aria-expanded="false"><i class="fa fa-dashboard"></i> <span class="hidden-sm-down">Settings</span> </a>
                        <div class="collapse" id="menu1">
                            <a href="#menu1sub1" class="list-group-item" data-toggle="collapse" aria-expanded="false">Cloud </a>
                            <div class="collapse" id="menu1sub1">
                                <a href="{{ url_for('admins.admin_cloud_aws_s3') }}">AWS S3</a>
                                <a href="{{ url_for('admins.admin_cloud_google_drive') }}">Google Drive</a>
                                <a href="{{ url_for('admins.admin_cloud_dropbox') }}">Dropbox</a>
                                <a href="{{ url_for('admins.admin_cloud_onedrive') }}">OneDrive</a>
                            </div>
                        </div>
                        <div class="collapse" id="menu2">
                            <a href="#menu1sub2" class="list-group-item" data-toggle="collapse" aria-expanded="false">Hardware </a>
                            <div class="collapse" id="menu1sub2">
                                <a href="{{ url_for('admins_chromecasts.admin_chromecast') }}"><i class="fa fa-sun-o"></i> Chromecasts</a>
                                <a href="{{ url_for('admins_tvtuners.admin_tvtuners') }}"><i class="glyphicon glyphicon-facetime-video"></i> TV Tuners</a>
                            </div>
                        </div>
                        <a href="{{ url_for('admins_library.admin_library') }}"><i class="glyphicon glyphicon-film"></i>Library <span class="badge badge-info"> {{ data_library }}</span></a>
                        <a href="{{ url_for('admins.admin_messages') }}"><i class="glyphicon glyphicon-envelope"></i> Messages <span class="badge badge-info"> {{ data_messages }}</span></a>
                        <a href="{{ url_for('admins.admin_server_settings') }}"><i class="glyphicon glyphicon-cog"></i> Settings</a>

                        <a href="{{ url_for('admins_link.admin_server_link_server') }}"><i class="glyphicon glyphicon-link"></i>Server Links</a>
                        <a href="{{ url_for('admins_share.admin_share') }}"><i class="fa fa-share-alt"></i> Share <span class="badge badge-info"> {{ data_share }}</span></a>
                        <a href="{{ url_for('admins_task.admin_task_display_all') }}"><i class="glyphicon glyphicon-tasks"></i>Task</a>

                        {% if data_transmission_active %}
                        <a href="{{ url_for('admins_transmission.admin_transmission') }}"><i class="glyphicon glyphicon-globe"></i>Transmission</a>
                        {% endif %}
                        <a href="{{ url_for('admins_users.admin_users') }}"><i class="glyphicon glyphicon-user"></i> Users <span class="badge badge-info"> {{ data_user_count }}</span></a>

                        <a href="{{ url_for('admins.admin_server_zfs') }}"><i class="fa fa-database"></i>ZFS</a>

                        <a href="#menu3" class="list-group-item collapsed" data-toggle="collapse" data-parent="#sidebar" aria-expanded="false"><i class="fa fa-dashboard"></i> <span class="hidden-sm-down">Reports</span> </a>
                        <a href="{{ url_for('admins.admin_chart_browser') }}">Browser</a>
                        <a href="{{ url_for('admins.admin_chart_client_usage') }}">Client</a>
                        <div class="collapse" id="menu3">
                            <a href="#menu1sub3" class="list-group-item" data-toggle="collapse" aria-expanded="false">Media </a>
                            <div class="collapse" id="menu1sub3">
                                <a href="{{ url_for('user_reports.report_display_all_duplicates') }}">Duplicates</a>
                                <a href="{{ url_for('user_reports.report_display_all_media') }}">Known Media</a>
                                <a href="{{ url_for('user_reports.report_display_all_media_known_video') }}">Matched Media</a>
                            </div>
                        </div>
                        <div class="collapse" id="menu4">
                            <a href="#menu1sub4" class="list-group-item" data-toggle="collapse" aria-expanded="false">Top 10 </a>
                            <div class="collapse" id="menu1sub4">
                                <a href="{{ url_for('user_reports.report_top10', mtype=1) }}">Top 10 All Time</a>
                                <a href="{{ url_for('user_reports.report_top10', mtype=2) }}">Top 10 Movie</a>
                                <a href="{{ url_for('user_reports.report_top10', mtype=3) }}">Top 10 TV Show</a>
                                <a href="{{ url_for('user_reports.report_top10', mtype=4) }}">Top 10 TV Episodes</a>
                            </div>
                        </div>
                        <a href="{{ url_for('admins.admin_database_statistics') }}"><i class="fa fa-database"></i> DB Statistics</a>
                        <a href="{{ url_for('admins_docker.docker_stat') }}"><i class="fa fa-anchor"></i> Docker Statistics</a>

                    </div>
                </div>

                <!-- /col-3 -->
                <div class="col-sm-9">
                    <!-- column 2 -->
                    <div class="row">
                        <!-- center left-->
                        <div class="col-md-6">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4>Server Info</h4>
                                </div>
                                <div class="panel-body">
                                    <p><small><b>Server Name:</b> {{ data_server_info_server_name }}</small></p>
                                    <p><small><b>Uptime:</b> {{ data_server_uptime }}</small></p>
                                    <p><small><b>Host IP:</b> {{ data_host_ip }}</small></p>
                                    <p>
                                        <small>
                                            <b>Docker IP Internal:</b>
                                            {% for nic_data in data_server_info_server_ip %}
                                    <p class="tab">{{ nic_data }}</p>
                                    {% endfor %}
                                    </small></p>
                                    <p><small><b>Port:</b> {{ data_server_info_server_port }}</small></p>
                                    <p><small><b>IP External:</b> {{ data_server_info_server_ip_external }}</small></p>
                                    <p><small><b>Version:</b> {{ data_server_info_server_version }}</small></p>
                                </div>
                                <!--/panel-body-->
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4>Active Streams</h4>
                                </div>
                                <div class="panel-body">
                                    {% if data_active_streams %}
                                    {% for row_data in data_active_streams %}
                                    <small>{{ row_data[0] }} - {{ row_data[1] }} </small>
                                    <div class="progress">
                                        <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow={{ row_data[2] }} aria-valuemin="0" aria-valuemax="100" style="width: 20%">
                                        <span class="sr-only">{{ row_data[2] }}% Complete</span>
                                    </div>
                                </div>
                                {% endfor %}
                                {% else %}
                                <small>No Current Streams</small>
                                {% endif %}
                            </div>
                            <!--/panel-body-->
                        </div>
                        <!--/panel-->
                        {% if data_scan_info %}
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4>Scanning Status</h4>
                            </div>
                            <div class="panel-body">
                                {% for row_data in data_scan_info %}
                                <small>{{ row_data[0] + ' - ' + row_data[1]}} </small>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow={{ row_data[2] }} aria-valuemin="0" aria-valuemax="100" style="width: {{ row_data[2] }}%">
                                    <span class="sr-only">20% Complete</span>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <!--/panel-body-->
                    </div>
                    {% endif %}
                </div>
                <!--/col-->
                <div class="col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4>Notices</h4>
                        </div>
                        <div class="panel-body">
                            {% if data_alerts_dismissable %}
                            <div class="alert alert-info">
                                {% for row_data in data_alerts_dismissable %}
                                <p><button type="button" class="close" data-dismiss="alert">Ã—</button>
                                    {{ row_data[1] }}
                                </p>
                                {% endfor %}
                            </div>
                            {% endif %}
                            {% if data_alerts %}
                            {% for row_data in data_alerts_dismissable %}
                            <p> {{ row_data[1] }} </p>
                            {% endfor %}
                            {% endif %}
                            {% if not data_alerts_dismissable and not data_alerts %}
                            <p>No alerts.</p>
                            {% endif %}
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Media Files</th>
                                    <th>Matched Media</th>
                                    <th>Streamed Media</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td> {{ data_count_media_files }} </td>
                                    <td> {{ data_count_matched_media }} </td>
                                    <td> {{ data_count_streamed_media }} </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Metadata to Fetch</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td> {{ data_count_meta_fetch }} </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4>Status</h4>
                        </div>
                        <div class="panel-body">
                            <small>Metadata Match/Fetch</small>
                            <div class="progress">
                                <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
                                    <span class="sr-only">60% Complete (warning)</span>
                                </div>
                            </div>
                            <small>Backup Progress</small>
                            <div class="progress">
                                <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
                                    <span class="sr-only">80% Complete</span>
                                </div>
                            </div>
                        </div>
                        <!--/panel-body-->
                    </div>
                    <!--/panel-->
                </div>
                <!--/col-span-6-->
            </div>
            <!--/row-->
        </div>
        <!--/col-span-9-->
        </div>
        </div>
        <script src="/static/js/jquery.min.js"></script>
        <script src="/static/bootstrap/js/bootstrap.min.js"></script>
        <script src="/static/js/scripts.js"></script>
    </body>
</html>
{% endblock %}
