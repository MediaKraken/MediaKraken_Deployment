/*! jQuery ListNav - v3.0.0 - 2017-11
Copyright Eric Steinborn - https://github.com/esteinborn/jquery-listnav */

!function(e){e.fn.listnav=function(t){var i=e.extend({},e.fn.listnav.defaults,t),l=["_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","-"],n=!1,s="";return s=null!==document.ontouchstart?"click":"touchend click",i.prefixes=e.map(i.prefixes,function(e){return e.toLowerCase()}),this.each(function(){function t(){var t=m.outerHeight();m.css({top:e("a:first",f).slice(0,1).position().top-t})}function a(){var t,l,n="",s=i.prefixes.length>0,a=i.filterSelector.length>0;e(x).children().each(function(){if(l=e(this),""!==(t=a?e.trim(l.find(i.filterSelector).text()).toLowerCase():e.trim(l.text()).toLowerCase())){if(s){var d=e.map(i.prefixes,function(e){return e.indexOf(" ")<=0?e+" ":e}),r=e.grep(d,function(e){return 0===t.indexOf(e)});if(r.length>0){var c=t.toLowerCase().split(r[0])[1];return n=null!==c?e.trim(c).charAt(0):t.charAt(0),void o(n,l,!0)}}o(n=t.charAt(0),l)}})}function o(e,t,i){/\W/.test(e)&&(e="-"),isNaN(e)||(e="_"),t.addClass("ln-"+e),void 0===H[e]&&(H[e]=0),H[e]++,i||k++}function d(){for(var t=0;t<l.length;t++)void 0===H[l[t]]&&e("."+l[t],C).addClass("ln-disabled")}function r(){x.append('<li class="ln-no-match listNavHide">'+i.noMatchText+"</li>")}function c(){x.append('<li class="ln-init-hidden listNavHide">'+i.initHiddenText+"</li>")}function u(t){return e(t).hasClass("all")?S=i.dontCount?k-x.find(i.dontCount).length:k:(t=".ln-"+e(t).attr("class").split(" ")[0],void 0!==(g=i.dontCount?x.find(t).not(i.dontCount).length:x.find(t).length)?g:0)}function v(){i.showCounts&&(f.mouseover(function(){t()}),e(".ln-letters a",f).mouseover(function(){N=e(this).position().left,p=e(this).outerWidth()+"px",g=u(this),m.css({left:N,width:p}).text(g).addClass("letterCountShow").removeClass("listNavHide")}).mouseout(function(){m.addClass("listNavHide").removeClass("letterCountShow")})),e("a",C).on(s,function(t){t.preventDefault();var l=e(this),s=l.attr("class").split(" ")[0],a=x.children(".ln-no-match");i.initHidden&&x.children(".ln-init-hidden").remove(),L!==s&&(e("a.ln-selected",C).removeClass("ln-selected"),"all"===s?(x.children().addClass("listNavShow").removeClass("listNavHide"),a.addClass("listNavHide").removeClass("listNavShow"),b=!0):(b?(x.children().addClass("listNavHide").removeClass("listNavShow"),b=!1):""!==L&&x.children(".ln-"+L).addClass("listNavHide").removeClass("listNavShow"),u(this)>0?(x.children(".ln-"+s).addClass("listNavShow").removeClass("listNavHide"),a.addClass("listNavHide").removeClass("listNavShow")):a.addClass("listNavShow").removeClass("listNavHide")),L=s,e.cookie&&null!==i.cookieName&&e.cookie(i.cookieName,s,{expires:999}),l.addClass("ln-selected"),l.blur(),n||null===i.onClick?n=!1:i.onClick(s))})}function h(){for(var e=[],t=1;t<l.length;t++)0===e.length&&e.push('<a class="all" href="#">'+i.allText+'</a><a class="_" href="#">0-9</a>'),e.push('<a class="'+l[t]+'" href="#">'+("-"===l[t]?"...":l[t].toUpperCase())+"</a>");return'<div class="ln-letters">'+e.join("")+"</div>"+(i.showCounts?'<div class="ln-letter-count listNavHide">0</div>':"")}var f,C,m,N,p,g,w=this.id,x=e(this),H={},k=0,S=0,b=!0,L="";e("#"+w+"-nav").length||e('<div id="'+w+'-nav" class="listNav"/>').insertBefore(x),f=e("#"+w+"-nav"),function(){if(f.append(h()),C=e(".ln-letters",f).slice(0,1),i.showCounts&&(m=e(".ln-letter-count",f).slice(0,1)),a(),r(),v(),i.flagDisabled&&d(),i.includeAll||e(".all",C).remove(),i.includeNums||e("._",C).remove(),i.includeOther||e(".-",C).remove(),i.removeDisabled&&e(".ln-disabled",C).remove(),e(":last",C).addClass("ln-last"),e.cookie&&null!==i.cookieName){var t=e.cookie(i.cookieName);null!==t&&void 0!==t&&(i.initLetter=t)}if(""!==i.initLetter)n=!0,e("."+i.initLetter.toLowerCase(),C).slice(0,1).trigger("click");else if(i.initHidden)c(),x.children().addClass("listNavHide"),x.children(".ln-init-hidden").removeClass("listNavHide");else if(i.includeAll)e(".all",C).addClass("ln-selected");else for(var s=i.includeNums?0:1;s<l.length;s++)if(H[l[s]]>0){n=!0,e("."+l[s],C).slice(0,1).trigger("click");break}}()})},e.fn.listnav.defaults={initHidden:!1,initHiddenText:"Tap a letter above to view matching items",initLetter:"",includeAll:!0,allText:"All",includeOther:!1,includeNums:!0,flagDisabled:!0,removeDisabled:!1,noMatchText:"No matching entries",showCounts:!0,dontCount:"",cookieName:null,onClick:null,prefixes:[],filterSelector:""}}(jQuery);