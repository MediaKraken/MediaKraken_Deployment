# Download base image
FROM alpine:3.4

MAINTAINER Quinn D Granfor, spootdev@gmail.com

LABEL www.mediakraken.org.version="dev-0.2.0"
LABEL Description="This image holds the image for the phppgadmin"

RUN apk add --update \
  lighttpd \
  php-common \
  php-iconv \ 
  php-json \
  php-gd \
  php-curl \
  php-xml \
  php-pgsql \
  php-imap \
  php-cgi \
  fcgi \
  php-pdo \
  php-pdo_pgsql \
  php-soap \
  php-xmlrpc \
  php-posix \
  php-mcrypt \
  php-gettext \
  php-ldap \
  php-ctype \
  php-dom \
  postgresql-client \
  && rm -rf /var/cache/apk/*
  && adduser www-data -G www-data -H -s /bin/false -D

ADD lighttpd.conf /etc/lighttpd/lighttpd.conf

ADD index.php /var/www/localhost/htdocs

ADD phpPgAdmin-5.1.tar.bz2 /var/www/localhost/htdocs/phppgadmin

ADD config.inc.php /var/www/localhost/htdocs/phppgadmin/conf/config.inc.php

EXPOSE 80

CMD ["/bin/ash"]

